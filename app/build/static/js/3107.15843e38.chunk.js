/*! For license information please see 3107.15843e38.chunk.js.LICENSE.txt */
(self.webpackChunkdao_app=self.webpackChunkdao_app||[]).push([[3107],{43107:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return st}});var r,o,i,s,a,c,l,d,u,p,h,f,x,m,g,v,b,w,Z,y,j,S,k,P,T,E,C,D,L,M,_,A,O,H,F,R,Y,z,I,N,B,U,W,X,V,$,q,J,G,Q,K,nn,en,tn,rn,on,sn,an,cn,ln=t(42982),dn=t(74165),un=t(15861),pn=t(70885),hn=t(47313),fn=t(86480),xn=t(47708),mn=t(30168),gn=t(70244),vn=t(18374),bn=t(46417),wn=gn.ZP.div(r||(r=(0,mn.Z)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    border-radius: 6px;\n    gap: 10px;\n    height: 100px;\n    justify-content: center;\n    align-items: flex-end;\n\n    @media(max-width: 480px) {\n        flex-direction: column;\n        gap: 20px;\n        height: unset;\n        align-items: center;\n    }\n"]))),Zn=(0,gn.iv)(o||(o=(0,mn.Z)(["\n    width: 60px;\n    height: 60px;\n    user-select: none;\n\n    @media(max-width: 480px) {\n        display: none;\n    }\n"]))),yn=gn.ZP.img.attrs((function(n){return{src:"".concat(vn.rR)}}))(i||(i=(0,mn.Z)(["\n    ",";\n"])),Zn),jn=gn.ZP.img.attrs((function(n){return{src:"".concat(vn.VC)}}))(s||(s=(0,mn.Z)(["\n    ",";\n"])),Zn),Sn=gn.ZP.div(a||(a=(0,mn.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n    position: relative;\n    width: 100%;\n"]))),kn=gn.ZP.div(c||(c=(0,mn.Z)(["\n    font-weight: 500;\n    color: #454974;\n"]))),Pn=gn.ZP.button(l||(l=(0,mn.Z)(["\n    all: unset;\n    background: #ebebf3;\n    width: 100%;\n    height: 60px;\n    border-radius: 6px;\n    cursor: pointer;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    padding: 10px;\n    box-sizing: border-box;\n    user-select: none;\n\n    :active {\n        transform: scale(0.96);\n        transition: scale 300ms;\n    }\n\n    :hover {\n        background: #e0e0e9;\n    }\n"]))),Tn=gn.ZP.button(d||(d=(0,mn.Z)(["\n    all: unset;\n    background: #7967f3;\n    padding: 10px 30px 10px 30px;\n    border-radius: 16px;\n    color: white;\n    font-size: 20px;\n    font-weight: 700;\n    height: 60px;\n    box-sizing: border-box;\n    cursor: pointer;\n    user-select: none;\n\n    :active {\n        transform: scale(0.96);\n        transition: scale 300ms;\n    }\n"]))),En=(0,gn.ZP)(vn.T2)(u||(u=(0,mn.Z)(["\n    width: 32px;\n    height: 32px;\n"]))),Cn=gn.ZP.span(p||(p=(0,mn.Z)(["\n    font-weight: 600;\n"]))),Dn=gn.ZP.img(h||(h=(0,mn.Z)(["\n    width: 50px;\n    height: 50px;\n    user-select: none;\n"]))),Ln=(0,gn.iv)(f||(f=(0,mn.Z)(["\n    all: unset;\n    background: #ebebf37a;\n    backdrop-filter: blur(20px);\n    width: 350px;\n    border-radius: 6px;\n    cursor: pointer;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n    padding: 10px;\n    box-sizing: border-box;\n    user-select: none;\n    position: absolute;\n    top: 90px;\n    left: 0;\n\n    @media(max-width: 480px) {\n        z-index: 100 !important;\n        left: 50% !important;\n        transform: translateX(-50%) !important;\n        width: 100% !important;\n        background: #ebebf3de !important;\n    }\n"]))),Mn=gn.ZP.div(x||(x=(0,mn.Z)(["\n    ",";\n"])),Ln),_n=gn.ZP.div(m||(m=(0,mn.Z)(["\n    ",";\n\n    @media(max-width: 760px) {\n        left: -50%;\n    }\n\n    @media(max-width: 620px) {\n        left: 0;\n        transform: translateX(-50%);\n    }\n"])),Ln),An=gn.ZP.div(g||(g=(0,mn.Z)(["\n    width: 100%;\n"]))),On=gn.ZP.div(v||(v=(0,mn.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 10px 0 10px;\n    border-radius: 12px;\n\n    :active {\n        transform: scale(0.96);\n        transition: scale 300ms;\n    }\n\n    :hover {\n        background: #ffffff7d;\n    }\n"]))),Hn=gn.ZP.div(b||(b=(0,mn.Z)(["\n    font-weight: 600;\n    font-size: 18px;\n    color: #6e6e78;\n"]))),Fn=gn.ZP.div(w||(w=(0,mn.Z)(["\n    font-weight: 600;\n    font-size: 18px;\n    color: #000000;\n"]))),Rn=[{title:"Recent Time",icon:vn.bO},{title:"Earlier Time",icon:vn.PY},{title:"Most Voted",icon:vn.zv},{title:"Less Voted",icon:vn.Rm}],Yn=[{title:"All",icon:vn.C7},{title:"Active",icon:vn.VT},{title:"Succeeded",icon:vn.Hv},{title:"Canceled",icon:vn.$S}],zn=function(n,e,t){var r=n.map((function(n,r){var o=n.title,i=n.icon;return(0,bn.jsxs)(On,{onClick:function(){return t(o)},children:[o===e?(0,bn.jsx)(Fn,{children:o}):(0,bn.jsx)(Hn,{children:o}),(0,bn.jsx)(Dn,{src:i})]},r)}));return(0,bn.jsx)(An,{children:r})},In=function(n){var e=n.filterHandler,t=n.setCurrentStatusHandler,r=n.setStatusHandler,o=n.setCurrentOrderHandler,i=n.setOrderHandler,s=n.isOrder,a=n.isStatus,c=n.currentOrder,l=n.currentStatus,d=n.filterMap;return(0,bn.jsxs)(wn,{children:[(0,bn.jsx)(yn,{}),(0,bn.jsxs)(Sn,{children:[(0,bn.jsx)(kn,{children:"Filter Order"}),(0,bn.jsxs)(Pn,{onClick:i,children:[(0,bn.jsx)(Cn,{children:d[c]}),(0,bn.jsx)(En,{})]}),s&&(0,bn.jsx)(Mn,{children:zn(Rn,c,o)})]}),(0,bn.jsx)(jn,{}),(0,bn.jsxs)(Sn,{children:[(0,bn.jsx)(kn,{children:"Filter Status"}),(0,bn.jsxs)(Pn,{onClick:r,children:[(0,bn.jsx)(Cn,{children:l}),(0,bn.jsx)(En,{})]}),a&&(0,bn.jsx)(_n,{children:zn(Yn,l,t)})]}),(0,bn.jsx)(Tn,{onClick:e,children:"Apply"})]})},Nn=t(2135),Bn=t(20074),Un=t.n(Bn),Wn=t(86948),Xn=t(61875),Vn=new(Un()),$n=(0,gn.ZP)(Nn.OL)(Z||(Z=(0,mn.Z)(["\n    all: unset;\n    border: 1px solid #dddddd;\n    box-shadow: 0px 0px 4px 0px #b7b7cd;\n    width: 100%;\n    height: 200px;\n    border-radius: 12px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    overflow: hidden;\n    cursor: pointer;\n\n    :active {\n        transform: scale(0.96);\n        transition: scale 300ms;\n    }\n\n    @media(max-width: 520px) {\n        height: 380px;\n    }\n"]))),qn=gn.ZP.img(y||(y=(0,mn.Z)(["\n    width: 40px;\n    height: 40px;\n    user-select: none;\n"]))),Jn=gn.ZP.div(j||(j=(0,mn.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    border-bottom: 1px solid #dddddd;\n\n    @media(max-width: 520px) {\n        flex-direction: column;\n    }\n"]))),Gn=gn.ZP.div(S||(S=(0,mn.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    background: #f9fafd;\n    padding: 8px;\n    user-select: none;\n\n    @media(max-width: 520px) {\n        width: 100%;\n    }\n"]))),Qn=gn.ZP.div(k||(k=(0,mn.Z)(["\n    font-weight: 600;\n"]))),Kn=gn.ZP.div(P||(P=(0,mn.Z)(["\n    all: unset;\n    font-weight: 300;\n    box-sizing: border-box;\n"]))),ne=gn.ZP.div(T||(T=(0,mn.Z)(["\n    height: 100px;\n    width: 100%;\n    text-align: center;\n    white-space: pre-line;\n\n    @media(max-width: 520px) {\n        padding: 10px;\n        box-shadow: -2px 1px 2px 0px #bcbcc7;\n    }\n"]))),ee=gn.ZP.div(E||(E=(0,mn.Z)(["\n    width: 100%;\n    text-align: center;\n    font-weight: 700;\n    font-size: 24px;\n    color: #12128f;\n\n    @media(max-width: 900px) {\n        font-size: 20px;\n    }\n\n    @media(max-width: 728px) {\n        font-size: 18px;\n    }\n\n    @media(max-width: 520px) {\n        border-bottom: 1px solid #d1d1e1;\n        border-top: 1px solid #d1d1e1;\n        padding: 10px;\n    }\n"]))),te=gn.ZP.div(C||(C=(0,mn.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n    gap: 20px;\n\n    @media(max-width: 520px) {\n        flex-direction: column;\n        gap: 2px;\n    }\n"]))),re=gn.ZP.div(D||(D=(0,mn.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n"]))),oe=gn.ZP.div(L||(L=(0,mn.Z)(["\n    user-select: none;\n"]))),ie={header:{Active:vn.VT,Succeeded:vn.Hv,Canceled:vn.$S},footer:{Active:vn.cF,Succeeded:vn.Q5,Canceled:vn.nL}},se=function(n){return n.map((function(n){var e=n.wallet,t=n.title,r=n.desc,o=n.state,i=n.time,s=n.end,a=n.votes,c=n.pid,l=n._id;return(0,bn.jsxs)($n,{to:"/votes/".concat(c),children:[(0,bn.jsxs)(Jn,{children:[(0,bn.jsxs)(Gn,{children:[(0,bn.jsx)(qn,{src:vn.w5}),(0,bn.jsxs)(Kn,{children:[e.substring(0,5),"...",e.substring(40,42)]})]}),(0,bn.jsx)(ee,{children:t}),(0,bn.jsxs)(Gn,{children:[(0,bn.jsx)(qn,{src:ie.header[o]}),(0,bn.jsx)(Qn,{children:o})]})]}),(0,bn.jsx)(ne,{children:r}),(0,bn.jsxs)(te,{children:[(0,bn.jsxs)(re,{children:[(0,bn.jsx)(qn,{src:vn.Ew}),(0,bn.jsxs)(oe,{children:[Vn.from(new Date(1e3*i))," (ends ",Vn.from(new Date(1e3*s)),")"]})]}),(0,bn.jsxs)(re,{children:[(0,bn.jsx)(qn,{src:ie.footer[o]}),(0,bn.jsxs)(oe,{children:[a," votes"]})]})]})]},l)}))},ae=function(n){var e=n.cardData,t=n.fetchData,r=n.hasMore;return(0,bn.jsx)(Wn.Z,{dataLength:e.length,next:t,hasMore:r,loader:(0,bn.jsx)(Xn.aN,{}),endMessage:(0,bn.jsx)(Xn.ds,{}),children:se(e)})},ce=gn.ZP.div(M||(M=(0,mn.Z)(["\n    width: 100%;\n    padding: 10px 0;\n    border-radius: 12px;\n    background: #e5e8ff;\n"]))),le=gn.ZP.div(_||(_=(0,mn.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n\n    @media(max-width: 728px) {\n        flex-direction: column-reverse;\n    }\n"]))),de=gn.ZP.img.attrs((function(n){return{src:"".concat(vn.IG)}}))(A||(A=(0,mn.Z)(["\n    width: 200px;\n    height: 200px;\n    user-select: none;\n"]))),ue=gn.ZP.div(O||(O=(0,mn.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 20px;\n    padding: 10px;\n\n    @media(max-width: 728px) {\n        text-align: center;\n    }\n"]))),pe=gn.ZP.div(H||(H=(0,mn.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n"]))),he=gn.ZP.div(F||(F=(0,mn.Z)(["\n    font-size: 32px;\n    font-weight: 900;\n    color: #2a2acf;\n"]))),fe=gn.ZP.div(R||(R=(0,mn.Z)(["\n    font-weight: 500;\n    color: #585b68;\n"]))),xe=gn.ZP.div(Y||(Y=(0,mn.Z)([""]))),me=gn.ZP.button(z||(z=(0,mn.Z)(["\n    all: unset;\n    background: blue;\n    padding: 10px 83px 10px 83px;\n    border-radius: 16px;\n    color: white;\n    font-size: 20px;\n    font-weight: 700;\n    cursor: pointer;\n    user-select: none;\n\n    :active {\n        transform: scale(0.96);\n        transition: scale 300ms;\n    }\n"]))),ge=function(n){var e=n.modalHandler;return(0,bn.jsx)(ce,{children:(0,bn.jsxs)(le,{children:[(0,bn.jsxs)(ue,{children:[(0,bn.jsxs)(pe,{children:[(0,bn.jsx)(he,{children:"SHIWA DAO Decentralized Autonomous Government"}),(0,bn.jsx)(fe,{children:"Welcome to the governing council of SHIWA.Finance. The place where the community has the decision for all present and future decisions of SHIWA. Here you can propose or vote to decide it. This governing is automated and transparent through a smart contract and a common treasury fund."})]}),(0,bn.jsx)(xe,{children:(0,bn.jsx)(me,{onClick:e,children:"Create Proposal"})})]}),(0,bn.jsx)(de,{})]})})},ve=t(10658),be=t.n(ve),we=t(13710),Ze=t.n(we),ye=t(26840),je=t(79700),Se=t(1179),ke=t(72388),Pe=t(65332),Te=t(35131),Ee=t(6321),Ce=t(76955),De=t(55131),Le=t(3326),Me=t(73481),_e=t(57663),Ae=t(32417),Oe=t(13660),He=gn.ZP.div(I||(I=(0,mn.Z)([""]))),Fe=gn.ZP.div(N||(N=(0,mn.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: relative;\n    border-radius: 12px;\n    width: 444px;\n    gap: 20px;\n    overflow: hidden;\n    position: fixed;\n    z-index: 240;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    backdrop-filter: blur(10px);\n    background: ",";\n\n    @media(max-width: 460px) {\n        width: 98%;\n    }\n"])),(function(n){return n.bg})),Re=gn.ZP.div(B||(B=(0,mn.Z)(["\n    width: 100%;\n    height: 32px;\n    border-top: 1px solid #ffffff33;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]))),Ye=gn.ZP.div(U||(U=(0,mn.Z)(["\n    color: #ff0000;\n    font-weight: 400;\n    font-size: 18px;\n"]))),ze=gn.ZP.div(W||(W=(0,mn.Z)(["\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 230;\n    background: ",";\n    backdrop-filter: blur(6px);\n"])),(function(n){return n.bg})),Ie=gn.ZP.div(X||(X=(0,mn.Z)(["\n    font-weight: 900;\n    font-size: 22px;\n    color: #2034bf;\n    padding: 10px;\n    border-bottom: 1px solid #ffffff33;\n    width: 100%;\n    text-align: center;\n\n    @media(max-width: 280px) {\n        font-size: 17px;\n    }\n"]))),Ne=(0,gn.iv)(V||(V=(0,mn.Z)(["\n    all: unset;\n    color: white;\n    font-weight: 700;\n    cursor: pointer;\n    user-select: none;\n    text-align: center;\n    position: absolute;\n    top: 10px;\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n\n    :active {\n        transform: scale(0.96);\n        transition: scale 300ms;\n    }\n"]))),Be=gn.ZP.button($||($=(0,mn.Z)(["\n    ",";\n    left: 10px;\n    background: #F25754;\n"])),Ne),Ue=gn.ZP.button(q||(q=(0,mn.Z)(["\n    ",";\n    left: 50px;\n    background: #00BE51;\n"])),Ne),We=gn.ZP.button(J||(J=(0,mn.Z)(["\n    ",";\n\n    left: 30px;\n    background: #F2B54F;\n"])),Ne),Xe=gn.ZP.button(G||(G=(0,mn.Z)(["\n    all: unset;\n    background: #0f38fd;\n    padding: 12px 130px 12px 130px;\n    border-radius: 8px;\n    color: white;\n    font-weight: 700;\n    cursor: pointer;\n    user-select: none;\n    text-align: center;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: 6px;\n\n    :not(:disabled):active {\n        transform: scale(0.96);\n        transition: scale 300ms;\n    }\n\n    :disabled {\n        cursor: auto;\n        opacity: 0.89;\n    }\n\n    @media(max-width: 370px) {\n        padding: 12px 35% 12px 35%;\n    }\n\n    @media(max-width: 280px) {\n        padding: 12px 30% 12px 30%;\n    }\n"]))),Ve=(0,gn.iv)(Q||(Q=(0,mn.Z)(["\n    all: unset;\n    text-align: center;\n    border: 2px solid blue;\n    border-radius: 12px;\n    padding: 10px;\n    width: 300px;\n\n    @media(max-width: 370px) {\n        width: 100%;\n    }\n\n    &&&::-moz-selection {\n        background: #afaff9;\n    }\n\n    &&&::selection {\n        background: #afaff9;\n    }\n"]))),$e=gn.ZP.input.attrs((function(n){return{placeholder:"Title",maxLength:48,required:!0}}))(K||(K=(0,mn.Z)(["\n    ",";\n\n"])),Ve),qe=gn.ZP.textarea.attrs((function(n){return{placeholder:"Description",maxLength:512,required:!0}}))(nn||(nn=(0,mn.Z)(["\n    ",";\n\n"])),Ve),Je=gn.ZP.label(en||(en=(0,mn.Z)(["\n    align-self: flex-start;\n"]))),Ge=gn.ZP.input.attrs((function(n){return{placeholder:"Duration Days",type:"number",min:2,required:!0}}))(tn||(tn=(0,mn.Z)(["\n    ",";\n"])),Ve),Qe=gn.ZP.div(rn||(rn=(0,mn.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap: 6px;\n\n    @media(max-width: 370px) {\n        width: 80%;\n        align-items: center;\n    }\n"]))),Ke=gn.ZP.div(on||(on=(0,mn.Z)(["\n    align-self: flex-end;\n    padding-right: 6px;\n    font-size: 14px;\n    font-weight: 400;\n    color: #2034bf;\n"]))),nt=gn.ZP.div(sn||(sn=(0,mn.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    gap: 8px;\n"]))),et=gn.ZP.div(an||(an=(0,mn.Z)(["\n    color: #2034bf;\n    font-weight: 400;\n    font-size: 14px;\n    width: 74%;\n"]))),tt=gn.ZP.div(cn||(cn=(0,mn.Z)(["\n    background: #ECECFE;\n    border-radius: 8px;\n    width: 76%;\n    padding: 8px;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n"])));be().extend(Ze());var rt={title:"",message:""},ot=function(n){var e=n.modalHandler,t=n.minimizeHandler,r=(0,ye.mA)(),o=r.isConnected,i=r.address,s=(0,ye.Ov)().data,a=(0,ye.mx)().data,c=(0,Le.a)().notificationHandler,l=(0,Me.n)(),d=l.sub2Storage,u=l.post2Storage,p=(0,_e.R)().verSigner,h=(0,hn.useState)("0"),f=(0,pn.Z)(h,2),x=f[0],m=f[1],g=(0,hn.useState)(!1),v=(0,pn.Z)(g,2),b=v[0],w=v[1],Z=(0,hn.useState)(rt),y=(0,pn.Z)(Z,2),j=y[0],S=y[1],k=(0,hn.useState)("0"),P=(0,pn.Z)(k,2),T=(P[0],P[1]),E=(0,hn.useState)(!1),C=(0,pn.Z)(E,2),D=C[0],L=C[1],M=(0,hn.useState)(!1),_=(0,pn.Z)(M,2),A=_[0],O=_[1],H=(0,hn.useState)(!1),F=(0,pn.Z)(H,2),R=F[0],Y=F[1],z=(0,ye.yL)(),I=(0,ye.cq)({address:xn.eM,abi:Pe.N,signerOrProvider:a}),N=(0,ye.cq)({address:xn.Ly,abi:Pe.r,signerOrProvider:a}),B=(0,hn.useState)(!1),U=(0,pn.Z)(B,2),W=U[0],X=U[1],V=(0,hn.useState)(""),$=(0,pn.Z)(V,2),q=$[0],J=$[1],G=(0,hn.useState)(""),Q=(0,pn.Z)(G,2),K=Q[0],nn=Q[1],en=(0,hn.useState)("2"),tn=(0,pn.Z)(en,2),rn=tn[0],on=tn[1],sn=(0,hn.useState)("2"),an=(0,pn.Z)(sn,2),cn=an[0],ln=an[1],mn=(0,Se.We)().openConnectModal,gn=function(){var n=(0,un.Z)((0,dn.Z)().mark((function n(){return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:mn&&mn();case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),vn=(0,hn.useCallback)((0,un.Z)((0,dn.Z)().mark((function n(){return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,null===N||void 0===N?void 0:N.approve(xn.eM,Ee.Bz.toString());case 5:n.next=13;break;case 7:return n.prev=7,n.t0=n.catch(2),c({type:"error",message:n.t0.reason,title:"".concat(n.t0.name,": ").concat(n.t0.code),icon:(0,bn.jsx)(Te.w5,{}),position:"bottomR"}),w(!1),S({title:"".concat(n.t0.name,": ").concat(n.t0.code),message:n.t0.reason}),n.abrupt("return");case 13:case"end":return n.stop()}}),n,null,[[2,7]])}))),[a]),wn=(0,hn.useCallback)((0,un.Z)((0,dn.Z)().mark((function n(){var e,t,r;return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="0",t=function(){var n=(0,un.Z)((0,dn.Z)().mark((function n(){var t,r,o,i,s;return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(z){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,(0,je.Ap)({contracts:[{address:xn.eM,abi:Pe.N,functionName:"minProposalTokens"},{address:xn.eM,abi:Pe.N,functionName:"minDuration"}],allowFailure:!0});case 4:return o=n.sent,i=null!==o[0]?null===(t=o[0])||void 0===t?void 0:t.toString():null===0?void 0:(0).toString(),s=null!==o[1]?null===(r=o[1])||void 0===r?void 0:r.toString():null===0?void 0:(0).toString(),m(i),e=i,ln((Math.ceil(parseInt(s)/86400)+1).toString()),n.abrupt("return");case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.next=4,t();case 4:return r=function(){var n=(0,un.Z)((0,dn.Z)().mark((function n(){var t,r,s,a,l;return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,(0,je.Ap)({contracts:[{address:xn.Ly,abi:Pe.r,functionName:"allowance",args:[i,xn.eM]},{address:xn.Ly,abi:Pe.r,functionName:"balanceOf",args:[i]}],allowFailure:!0});case 4:return s=n.sent,n.next=7,s[0];case 7:if(n.t0=n.sent,null===n.t0){n.next=12;break}n.t1=null===(t=s[0])||void 0===t?void 0:t.toString(),n.next=13;break;case 12:n.t1=null===0?void 0:(0).toString();case 13:return a=n.t1,n.next=16,s[1];case 16:if(n.t2=n.sent,null===n.t2){n.next=21;break}n.t3=null===(r=s[1])||void 0===r?void 0:r.toString(),n.next=22;break;case 21:n.t3=null===0?void 0:(0).toString();case 22:if(!((l=n.t3)<e)){n.next=29;break}return w(!1),S({title:"INSUFFICIENT",message:"You do not have enough balance"}),c({type:"warning",title:"INSUFFICIENT",message:"You do not have enough balance",icon:(0,bn.jsx)(Te.aB,{}),position:"bottomR"}),T(l),n.abrupt("return");case 29:if(!(a<e)){n.next=38;break}return w(!1),S({title:"INSUFFICIENT",message:"You do not have allowance"}),c({type:"warning",title:"INSUFFICIENT",message:"You do not have allowance",icon:(0,bn.jsx)(Te.w5,{}),position:"bottomR"}),T(l),n.next=36,vn();case 36:n.next=39;break;case 38:w(!0);case 39:return n.abrupt("return");case 40:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.next=7,r();case 7:case"end":return n.stop()}}),n)}))),[i,vn,o,z]),Zn=function(){var n=(0,un.Z)((0,dn.Z)().mark((function n(){var e,t,r,l,h,f,x,m,g,v,w,Z,y,S,k,P,T,E;return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o||a){n.next=3;break}return gn(),n.abrupt("return");case 3:return n.next=5,u();case 5:if(n.t0=n.sent,!1!==n.t0){n.next=9;break}return c({type:"error",message:"Previous transaction net failed",title:"_TX::BACK",icon:(0,bn.jsx)(Te.xF,{}),position:"bottomR"}),n.abrupt("return");case 9:return n.next=11,wn();case 11:if(!1!==b){n.next=14;break}return c({type:"warning",message:j.message,title:j.title,icon:(0,bn.jsx)(Te.ZJ,{}),position:"bottomR"}),n.abrupt("return");case 14:if(e=p(),t=e.shouldSign,r=e.rData,l=r.verMsg,h=r.verData,!t){n.next=19;break}return O(!0),n.abrupt("return");case 19:return f=be()().add(parseInt(rn),"day"),x={title:q,desc:K,duration:f.unix(),wallet:i,hash:(0,ke.keccak256)((0,ke.toUtf8Bytes)(q+K))},m=x.title,g=x.desc,v=x.duration,w=x.wallet,Z=x.hash,n.next=24,fn.ZP.get("".concat(xn.FX,"/preflight_hash/").concat(Z,"/"));case 24:if(y=n.sent,!((S=y.data)&&rn>=cn)){n.next=61;break}return n.prev=27,k="".concat(xn.FX,"/pre_create/").concat(m,"/").concat(g,"/").concat(v,"/").concat(w,"/").concat(Z,"/").concat(s,"/").concat(l,"/").concat(h,"/"),n.next=31,fn.ZP.post(k);case 31:if(P=n.sent,"SUCCESS"!==(T=P.data)){n.next=51;break}return n.prev=34,n.next=37,null===I||void 0===I?void 0:I.createProposal(Z,v);case 37:return E="".concat(xn.FX,"/verify_tx/").concat(Z,"/").concat(l,"/").concat(h,"/"),n.next=40,d(E);case 40:if(!n.sent){n.next=43;break}return n.next=43,u();case 43:n.next=49;break;case 45:return n.prev=45,n.t1=n.catch(34),c({type:"error",message:n.t1.reason,title:"".concat(n.t1.name,": ").concat(n.t1.code),icon:(0,bn.jsx)(Te.ZJ,{}),position:"bottomR"}),n.abrupt("return");case 49:n.next=53;break;case 51:return c(Ae.Y[T]),n.abrupt("return");case 53:n.next=59;break;case 55:return n.prev=55,n.t2=n.catch(27),c({type:"error",message:n.t2.reason,title:"".concat(n.t2.name,": ").concat(n.t2.code),icon:(0,bn.jsx)(Te.Zm,{}),position:"bottomR"}),n.abrupt("return");case 59:n.next=62;break;case 61:S?rn>=cn||c({type:"warning",message:"Duration should be greater than minimum",title:"MinDuration",icon:(0,bn.jsx)(Te.j,{}),position:"bottomR"}):c({type:"warning",message:"A similar proposal already exist",title:"ProposalExist",icon:(0,bn.jsx)(Te.$B,{}),position:"bottomR"});case 62:case"end":return n.stop()}}),n,null,[[27,55],[34,45]])})));return function(){return n.apply(this,arguments)}}(),yn=function(){var n=(0,un.Z)((0,dn.Z)().mark((function n(){return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return L(!0),Y(!0),n.next=4,Zn();case 4:L(!1),Y(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,hn.useEffect)((function(){var n=localStorage.getItem("modal");if(null!==n){var e=JSON.parse(n);J(e.title),nn(e.desc),on(e.duration)}}),[]),(0,hn.useEffect)((function(){wn()}),[wn]),(0,bn.jsxs)(He,{children:[(0,bn.jsx)(ze,{onClick:e,bg:W?"#0c0c7447":"#ffffff47"}),(0,bn.jsxs)(Fe,{bg:W?"#e5e9ff42":"#8497ff42",children:[(0,bn.jsx)(Be,{onClick:e}),(0,bn.jsx)(We,{onClick:function(){var n={title:q,desc:K,duration:rn};window.localStorage.setItem("modal",JSON.stringify(n)),t()}}),(0,bn.jsx)(Ue,{onClick:function(){X(!W)}}),(0,bn.jsx)(Ie,{children:"Proposal Info"}),R&&(0,bn.jsx)(tt,{children:(0,bn.jsx)(Oe.E,{direction:"bottom",size:40,spinnerColor:"#2E7DAF",spinnerType:"loader",text:"Processing..."})}),(0,bn.jsxs)(Qe,{children:[(0,bn.jsx)(Je,{children:"Title"}),(0,bn.jsx)($e,{onChange:function(n){return J(n.target.value)},value:q}),(0,bn.jsxs)(Ke,{children:[q.length,"/48"]})]}),(0,bn.jsxs)(Qe,{children:[(0,bn.jsx)(Je,{children:"Description"}),(0,bn.jsx)(qe,{onChange:function(n){return nn(n.target.value)},value:K}),(0,bn.jsxs)(Ke,{children:[K.length,"/512"]})]}),(0,bn.jsxs)(Qe,{children:[(0,bn.jsx)(Je,{children:"Duration (in days)"}),(0,bn.jsx)(Ge,{onChange:function(n){return on(n.target.value)},value:rn})]}),(0,bn.jsxs)(nt,{children:[(0,bn.jsxs)(et,{children:["The cost of submitting a proposal will be deducted from your SHIWA balance. You need to have at least ",x>(0).toString()?"".concat(Math.ceil(parseInt(Ce.formatUnits(x,xn.Ay)))):"_"," SHIWAS to be able to vote or propose in the government board."]}),(0,bn.jsxs)(Xe,{onClick:yn,disabled:!b||D||0===q.length||0===K.length||0===parseInt(rn),children:[D&&(0,bn.jsx)(Xn.Qv,{}),o?"CREATE":"CONNECT"]})]}),(0,bn.jsx)(Re,{children:(0,bn.jsx)(Ye,{children:!1===b&&j.message})})]}),A&&(0,bn.jsx)(De.Z,{setRenderConnected:O})]})},it={"Recent Time":"Recent","Earlier Time":"Earlier","Most Voted":"Most","Less Voted":"Less",All:"All",Active:"Active",Succeeded:"Succeeded",Canceled:"Canceled"},st=function(){var n=(0,hn.useState)(!1),e=(0,pn.Z)(n,2),t=e[0],r=e[1],o=(0,hn.useState)([{}]),i=(0,pn.Z)(o,2),s=i[0],a=i[1],c=(0,hn.useState)(!1),l=(0,pn.Z)(c,2),d=l[0],u=l[1],p=(0,hn.useState)(""),h=(0,pn.Z)(p,2),f=h[0],x=h[1],m=(0,hn.useState)(!1),g=(0,pn.Z)(m,2),v=g[0],b=g[1],w=(0,hn.useState)("Recent Time"),Z=(0,pn.Z)(w,2),y=Z[0],j=Z[1],S=(0,hn.useState)(!1),k=(0,pn.Z)(S,2),P=k[0],T=k[1],E=(0,hn.useState)("All"),C=(0,pn.Z)(E,2),D=C[0],L=C[1],M=(0,hn.useState)(!0),_=(0,pn.Z)(M,2),A=_[0],O=_[1],H=function(){t&&localStorage.removeItem("modal"),r(!t)},F=function(){b(!v),T(!1)},R=function(){T(!P),b(!1)},Y=function(){var n=(0,un.Z)((0,dn.Z)().mark((function n(){var e,t;return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fn.ZP.get("".concat(xn.FX,"/main_proposals/").concat(it[y],"/").concat(D,"/"));case 2:e=n.sent,t=e.data,a(Array.from(new Set(t.cursor))),x(t.param);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),z=function(){var n=(0,un.Z)((0,dn.Z)().mark((function n(){var e,t,r;return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fn.ZP.get("".concat(xn.FX,"/sub_proposals/").concat(f,"/").concat(it[y],"/").concat(D,"/"));case 2:if(e=n.sent,!1!==(t=e.data).hasMore){n.next=7;break}return O(!1),n.abrupt("return");case 7:r=Array.from(new Set(t.cursor)),a((function(n){return[].concat((0,ln.Z)(n),r)})),x(t.param);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,hn.useEffect)((function(){var n=function(){var n=(0,un.Z)((0,dn.Z)().mark((function n(){var e,t;return(0,dn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fn.ZP.get("".concat(xn.FX,"/init_proposals/"));case 2:e=n.sent,t=e.data,a(Array.from(new Set(t.cursor))),x(t.param),u(!0);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),(0,bn.jsxs)(bn.Fragment,{children:[t&&(0,bn.jsx)(ot,{modalHandler:H,minimizeHandler:function(){r(!t)}}),(0,bn.jsx)(ge,{modalHandler:H}),(0,bn.jsx)(In,{filterHandler:Y,setCurrentStatusHandler:function(n){L(n),R()},setStatusHandler:R,setCurrentOrderHandler:function(n){j(n),F()},setOrderHandler:F,isOrder:v,isStatus:P,currentOrder:y,currentStatus:D,filterMap:it}),d?(0,bn.jsx)(ae,{cardData:s,fetchData:z,hasMore:A}):(0,bn.jsx)(Xn.ds,{})]})}},13710:function(n){n.exports=function(){"use strict";return function(n,e,t){var r=e.prototype,o=function(n){var e,o=n.date,i=n.utc,s={};if(!((e=o)instanceof Date||e instanceof Array||r.$utils().u(e)||"Object"!==e.constructor.name)){if(!Object.keys(o).length)return new Date;var a=i?t.utc():t();Object.keys(o).forEach((function(n){var e,t;s[(e=n,t=r.$utils().p(e),"date"===t?"day":t)]=o[n]}));var c=s.day||(s.year||s.month>=0?1:a.date()),l=s.year||a.year(),d=s.month>=0?s.month:s.year||s.day?0:a.month(),u=s.hour||0,p=s.minute||0,h=s.second||0,f=s.millisecond||0;return i?new Date(Date.UTC(l,d,c,u,p,h,f)):new Date(l,d,c,u,p,h,f)}return o},i=r.parse;r.parse=function(n){n.date=o.bind(this)(n),i.bind(this)(n)};var s=r.set,a=r.add,c=r.subtract,l=function(n,e,t,r){void 0===r&&(r=1);var o=Object.keys(e),i=this;return o.forEach((function(t){i=n.bind(i)(e[t]*r,t)})),i};r.set=function(n,e){return e=void 0===e?n:e,"Object"===n.constructor.name?l.bind(this)((function(n,e){return s.bind(this)(e,n)}),e,n):s.bind(this)(n,e)},r.add=function(n,e){return"Object"===n.constructor.name?l.bind(this)(a,n,e):a.bind(this)(n,e)},r.subtract=function(n,e){return"Object"===n.constructor.name?l.bind(this)(a,n,e,-1):c.bind(this)(n,e)}}}()},86948:function(n,e,t){"use strict";var r=t(47313),o=function(n,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])},o(n,e)};var i=function(){return i=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},i.apply(this,arguments)};var s="Pixel",a="Percent",c={unit:a,value:.8};function l(n){return"number"===typeof n?{unit:a,value:100*n}:"string"===typeof n?n.match(/^(\d*(\.\d+)?)px$/)?{unit:s,value:parseFloat(n)}:n.match(/^(\d*(\.\d+)?)%$/)?{unit:a,value:parseFloat(n)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),c):(console.warn("scrollThreshold should be string or number"),c)}var d=function(n){function e(e){var t=n.call(this,e)||this;return t.lastScrollTop=0,t.actionTriggered=!1,t.startY=0,t.currentY=0,t.dragging=!1,t.maxPullDownDistance=0,t.getScrollableTarget=function(){return t.props.scrollableTarget instanceof HTMLElement?t.props.scrollableTarget:"string"===typeof t.props.scrollableTarget?document.getElementById(t.props.scrollableTarget):(null===t.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},t.onStart=function(n){t.lastScrollTop||(t.dragging=!0,n instanceof MouseEvent?t.startY=n.pageY:n instanceof TouchEvent&&(t.startY=n.touches[0].pageY),t.currentY=t.startY,t._infScroll&&(t._infScroll.style.willChange="transform",t._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},t.onMove=function(n){t.dragging&&(n instanceof MouseEvent?t.currentY=n.pageY:n instanceof TouchEvent&&(t.currentY=n.touches[0].pageY),t.currentY<t.startY||(t.currentY-t.startY>=Number(t.props.pullDownToRefreshThreshold)&&t.setState({pullToRefreshThresholdBreached:!0}),t.currentY-t.startY>1.5*t.maxPullDownDistance||t._infScroll&&(t._infScroll.style.overflow="visible",t._infScroll.style.transform="translate3d(0px, "+(t.currentY-t.startY)+"px, 0px)")))},t.onEnd=function(){t.startY=0,t.currentY=0,t.dragging=!1,t.state.pullToRefreshThresholdBreached&&(t.props.refreshFunction&&t.props.refreshFunction(),t.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){t._infScroll&&(t._infScroll.style.overflow="auto",t._infScroll.style.transform="none",t._infScroll.style.willChange="unset")}))},t.onScrollListener=function(n){"function"===typeof t.props.onScroll&&setTimeout((function(){return t.props.onScroll&&t.props.onScroll(n)}),0);var e=t.props.height||t._scrollableNode?n.target:document.documentElement.scrollTop?document.documentElement:document.body;t.actionTriggered||((t.props.inverse?t.isElementAtTop(e,t.props.scrollThreshold):t.isElementAtBottom(e,t.props.scrollThreshold))&&t.props.hasMore&&(t.actionTriggered=!0,t.setState({showLoader:!0}),t.props.next&&t.props.next()),t.lastScrollTop=e.scrollTop)},t.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:e.dataLength},t.throttledOnScrollListener=function(n,e,t,r){var o,i=!1,s=0;function a(){o&&clearTimeout(o)}function c(){var c=this,l=Date.now()-s,d=arguments;function u(){s=Date.now(),t.apply(c,d)}function p(){o=void 0}i||(r&&!o&&u(),a(),void 0===r&&l>n?u():!0!==e&&(o=setTimeout(r?p:u,void 0===r?n-l:n)))}return"boolean"!==typeof e&&(r=t,t=e,e=void 0),c.cancel=function(){a(),i=!0},c}(150,t.onScrollListener).bind(t),t.onStart=t.onStart.bind(t),t.onMove=t.onMove.bind(t),t.onEnd=t.onEnd.bind(t),t}return function(n,e){function t(){this.constructor=n}o(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,n),e.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,e){return n.dataLength!==e.prevDataLength?i(i({},e),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,e){void 0===e&&(e=.8);var t=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,r=l(e);return r.unit===s?n.scrollTop<=r.value+t-n.scrollHeight+1:n.scrollTop<=r.value/100+t-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,e){void 0===e&&(e=.8);var t=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,r=l(e);return r.unit===s?n.scrollTop+t>=n.scrollHeight-r.value:n.scrollTop+t>=r.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,e=i({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),t=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return r.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},r.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(e){return n._infScroll=e},style:e},this.props.pullDownToRefresh&&r.createElement("div",{style:{position:"relative"},ref:function(e){return n._pullDown=e}},r.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!t&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(r.Component);e.Z=d}}]);